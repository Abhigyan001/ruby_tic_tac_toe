#!/usr/bin/env ruby
require_relative '../lib/player'

def name_check
    check = true
    while check
      check = false
      name = gets.chomp      
      if name == " " || name.length < 3
        puts "Enter a valid name:"
        check = true
      end
    end
    name.capitalize
  end

def player_names(player1, player2)
    puts "Player 1 Name : "
    player1.name = name_check   
    puts "Player 2 Name :"
    player2.name = name_check
    player2.name = "#{player2.name}2" if player1.name == player2.name
    puts "Let's start #{player1.name} and #{player2.name}"
end

def player_choice(player1, player2)
  puts "#{player1.name}, Choose X or O"
  check1 = true
  while check1
    player1.choice = gets.chomp.upcase
    if player1.choice == "X" || player1.choice == "O"
      check1 = false
    else
      puts "Please enter either X or O" 
    end
    break if check1 == false
  end
  player2.choice = player1.choice == 'X' ? 'O' : 'X'
  puts "#{player1.name} has chosen #{player1.choice} and #{player2.name} will use #{player2.choice}"
end

puts "-----------------------------"
puts " Welcome to Tic Tac Toe game!"
puts "-----------------------------"

player1 = Player.new
player2 = Player.new
player_names(player1, player2)
player_choice(player1, player2)


